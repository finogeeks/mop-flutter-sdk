<p align="center">
    <a href="https://www.finclip.com?from=github">
    <img width="auto" src="https://www.finclip.com/mop/document/images/logo.png">
    </a>
</p>

<p align="center">
    <strong>FinClip Flutter SDK</strong></br>
<p>
<p align="center">
        æœ¬é¡¹ç›®æä¾›åœ¨ Flutter ç¯å¢ƒä¸­è¿è¡Œå°ç¨‹åºçš„èƒ½åŠ›
<p>

<p align="center">
	ğŸ‘‰ <a href="https://www.finclip.com?from=github">https://www.finclip.com/</a> ğŸ‘ˆ
</p>

<div align="center">

<a href="#"><img src="https://img.shields.io/badge/%E4%B8%93%E5%B1%9E%E5%BC%80%E5%8F%91%E8%80%85-20000%2B-brightgreen"></a>
<a href="#"><img src="https://img.shields.io/badge/%E5%B7%B2%E4%B8%8A%E6%9E%B6%E5%B0%8F%E7%A8%8B%E5%BA%8F-6000%2B-blue"></a>
<a href="#"><img src="https://img.shields.io/badge/%E5%B7%B2%E9%9B%86%E6%88%90%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BA%94%E7%94%A8-75%2B-yellow"></a>
<a href="#"><img src="https://img.shields.io/badge/%E5%AE%9E%E9%99%85%E8%A6%86%E7%9B%96%E7%94%A8%E6%88%B7-2500%20%E4%B8%87%2B-orange"></a>

<a href="https://www.zhihu.com/org/finchat"><img src="https://img.shields.io/badge/FinClip--lightgrey?logo=zhihu&style=social"></a>
<a href="https://www.finclip.com/blog/"><img src="https://img.shields.io/badge/FinClip%20Blog--lightgrey?logo=ghost&style=social"></a>



</div>

<p align="center">

<div align="center">

[å®˜æ–¹ç½‘ç«™](https://www.finclip.com/) | [ç¤ºä¾‹å°ç¨‹åº](https://www.finclip.com/#/market) | [å¼€å‘æ–‡æ¡£](https://www.finclip.com/mop/document/) | [éƒ¨ç½²æŒ‡å—](https://www.finclip.com/mop/document/introduce/quickStart/cloud-server-deployment-guide.html) | [SDK é›†æˆæŒ‡å—](https://www.finclip.com/mop/document/introduce/quickStart/intergration-guide.html) | [API åˆ—è¡¨](https://www.finclip.com/mop/document/develop/api/overview.html) | [ç»„ä»¶åˆ—è¡¨](https://www.finclip.com/mop/document/develop/component/overview.html) | [éšç§æ‰¿è¯º](https://www.finclip.com/mop/document/operate/safety.html)

</div>

-----
## ğŸ¤” FinClip æ˜¯ä»€ä¹ˆ?

æœ‰æ²¡æœ‰**æƒ³è¿‡**ï¼Œå¼€å‘å¥½çš„å¾®ä¿¡å°ç¨‹åºèƒ½æ”¾åœ¨è‡ªå·±çš„ APP é‡Œç›´æ¥è¿è¡Œï¼Œåªéœ€è¦å¼€å‘ä¸€æ¬¡å°ç¨‹åºï¼Œå°±èƒ½åœ¨ä¸åŒçš„åº”ç”¨ä¸­æ‰“å¼€å®ƒï¼Œæ˜¯ä¸æ˜¯å¾ˆä¸å¯æ€è®®ï¼Ÿ

æœ‰æ²¡æœ‰**è¯•è¿‡**ï¼Œåœ¨è‡ªå·±çš„ APP ä¸­å¼•å…¥ä¸€ä¸ª SDK ï¼Œåº”ç”¨ä¸­ä¸ä»…å¯ä»¥æ‰“å¼€å°ç¨‹åºï¼Œè¿˜èƒ½è‡ªå®šä¹‰å°ç¨‹åºæ¥å£ï¼Œä¿®æ”¹å°ç¨‹åºæ ·å¼ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—æ›´ä¸å¯æ€è®®ï¼Ÿ

è¿™å°±æ˜¯ FinClip ï¼Œå°±æ˜¯æœ‰è¿™ä¹ˆå¤šä¸å¯æ€è®®ï¼

## âš ï¸ Flutter ä½¿ç”¨æ³¨æ„

ç”±äº FinClip å°ç¨‹åºæŠ€æœ¯ä¸»è¦é€šè¿‡ SDK å‘ APP æä¾›è¿è¡Œå°ç¨‹åºçš„èƒ½åŠ›ï¼Œæ‚¨çœ‹åˆ°çš„æœ¬ä»“åº“ä¸­é•¿æœŸæœªæ›´æ–°çš„æ–‡ä»¶å¹¶éâ€œå¹´ä¹…å¤±ä¿®â€ï¼Œæˆ‘ä»¬å§‹ç»ˆä¿æŒåœ¨ Flutter ç¯å¢ƒä¸­ SDK èµ„æºçš„å®šæœŸæ›´æ–°ã€‚å¦‚æœæ‚¨åœ¨é›†æˆä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿ä¸æˆ‘ä»¬è”ç³»ã€‚

## âš™ï¸ Flutter é›†æˆ

åœ¨é¡¹ç›® `pubspec.yaml` æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–

```yaml
mop: latest.version
```

## ğŸ–¥ ç¤ºä¾‹

```flutter
import 'package:flutter/material.dart';
import 'dart:async';
import 'dart:io';
import 'package:mop/mop.dart';

void main() => runApp(MyApp());

class MyApp extends StatefulWidget {
  @override
  _MyAppState createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  @override
  void initState() {
    super.initState();
    init();
  }

  // Platform messages are asynchronous, so we initialize in an async method.
  Future<void> init() async {
    if (Platform.isiOS) {
      //com.finogeeks.mopExample
      final res = await Mop.instance.initialize(
          '22LyZEib0gLTQdU3MUauARlLry7JL/2fRpscC9kpGZQA', '1c11d7252c53e0b6',
          apiServer: 'https://api.finclip.com', apiPrefix: '/api/v1/mop');
      print(res);
    } else if (Platform.isAndroid) {
      //com.finogeeks.mopexample
      final res = await Mop.instance.initialize(
          '22LyZEib0gLTQdU3MUauARjmmp6QmYgjGb3uHueys1oA', '98c49f97a031b555',
          apiServer: 'https://api.finclip.com', apiPrefix: '/api/v1/mop');
      print(res);
    }
    if (!mounted) return;
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(
          title: const Text('å‡¡æ³°æå®¢å°ç¨‹åº Flutter æ’ä»¶'),
        ),
        body: Center(
          child: Container(
            padding: EdgeInsets.only(
              top: 20,
            ),
            child: Column(
              children: <Widget>[
                Container(
                  decoration: BoxDecoration(
                    borderRadius: BorderRadius.all(Radius.circular(5)),
                    gradient: LinearGradient(
                      colors: const [Color(0xFF12767e), Color(0xFF0dabb8)],
                      stops: const [0.0, 1.0],
                      begin: Alignment.topCenter,
                      end: Alignment.bottomCenter,
                    ),
                  ),
                  child: FlatButton(
                    onPressed: () {
                      Mop.instance.openApplet('5e3c147a188211000141e9b1');
                    },
                    child: Text(
                      'æ‰“å¼€ç¤ºä¾‹å°ç¨‹åº',
                      style: TextStyle(color: Colors.white),
                    ),
                  ),
                ),
                SizedBox(height: 30),
                Container(
                  decoration: BoxDecoration(
                    borderRadius: BorderRadius.all(Radius.circular(5)),
                    gradient: LinearGradient(
                      colors: const [Color(0xFF12767e), Color(0xFF0dabb8)],
                      stops: const [0.0, 1.0],
                      begin: Alignment.topCenter,
                      end: Alignment.bottomCenter,
                    ),
                  ),
                  child: FlatButton(
                    onPressed: () {
                      Mop.instance.openApplet('5e4d123647edd60001055df1',sequence: 1);
                    },
                    child: Text(
                      'æ‰“å¼€å®˜æ–¹å°ç¨‹åº',
                      style: TextStyle(color: Colors.white),
                    ),
                  ),
                ),
              ],
            ),
          ),
        ),
      ),
    );
  }
}
```

## ğŸ“‹  æ¥å£æ–‡æ¡£

### 1. åˆå§‹åŒ–å°ç¨‹åº

   åœ¨ä½¿ç”¨ SDK æä¾›çš„ API ä¹‹å‰å¿…é¡»è¦åˆå§‹åŒ– SDK ï¼Œåˆå§‹åŒ– SDK çš„æ¥å£å¦‚ä¸‹

```
  ///
  /// initialize mop miniprogram engine.
  /// åˆå§‹åŒ–å°ç¨‹åº
  /// [appkey] is required. it can be getted from api.finclip.com
  /// [secret] is required. it can be getted from api.finclip.com
  /// [apiServer] is optional. the mop server address. default is https://mp.finogeek.com
  /// [apiPrefix] is optional. the mop server prefix. default is /api/v1/mop
  ///
  ///
  Future<Map> initialize(String appkey, String secret,
      {String apiServer, String apiPrefix})
```

ä½¿ç”¨ç¤ºä¾‹ï¼š
```
final res = await Mop.instance.initialize(
          '22LyZEib0gLTQdU3MUauARlLry7JL/2fRpscC9kpGZQA', '1c11d7252c53e0b6',
          apiServer: 'https://api.finclip.com', apiPrefix: '/api/v1/mop');
```

### 2. æ‰“å¼€å°ç¨‹åº

```
  ///
  /// open the miniprogram [appId] from the  mop server.
  /// æ‰“å¼€å°ç¨‹åº
  /// [appId] is required.
  /// [path] is miniprogram open path. example /pages/index/index
  /// [query] is miniprogram query parameters. example key1=value1&key2=value2
  ///
  ///
  Future<Map> openApplet(final String appId,
      {final String path, final String query, final int sequence})
```

### 3. è·å–å½“å‰æ­£åœ¨ä½¿ç”¨çš„å°ç¨‹åºä¿¡æ¯

å½“å‰å°ç¨‹åºä¿¡æ¯åŒ…æ‹¬çš„å­—æ®µæœ‰ `appId`, `name`, `icon`, `description`, `version`, `thumbnail`

```
  ///
  ///  get current using applet
  ///  è·å–å½“å‰æ­£åœ¨ä½¿ç”¨çš„å°ç¨‹åºä¿¡æ¯
  ///  {appId,name,icon,description,version,thumbnail}
  ///
  ///
  Future<Map<String, dynamic>> currentApplet()
```

### 4. å…³é—­å½“å‰æ‰“å¼€çš„æ‰€æœ‰å°ç¨‹åº

```
  ///
  /// close all running applets
  /// å…³é—­å½“å‰æ‰“å¼€çš„æ‰€æœ‰å°ç¨‹åº
  ///
  Future closeAllApplets()
```

### 5. æ¸…é™¤ç¼“å­˜çš„å°ç¨‹åº

æ¸…é™¤ç¼“å­˜çš„å°ç¨‹åºï¼Œå½“å†æ¬¡æ‰“å¼€æ—¶ï¼Œä¼šé‡æ–°ä¸‹è½½å°ç¨‹åº
```
  ///
  /// clear applets cache
  /// æ¸…é™¤ç¼“å­˜çš„å°ç¨‹åº
  ///
  Future clearApplets() 
```

### 6. æ³¨å†Œå°ç¨‹åºäº‹ä»¶å¤„ç†

å½“å°ç¨‹åºå†…è§¦å‘æŒ‡å®šäº‹ä»¶æ—¶ï¼Œä¼šé€šçŸ¥åˆ°ä½¿ç”¨è€…ï¼Œæ¯”å¦‚å°ç¨‹åºè¢«è½¬å‘ï¼Œå°ç¨‹åºéœ€è¦è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œæ³¨å†Œå¤„ç†å™¨æ¥åšå‡ºå¯¹åº”çš„å“åº”

```
  ///
  /// register handler to provide custom info or behaviour
  /// æ³¨å†Œå°ç¨‹åºäº‹ä»¶å¤„ç†
  ///
  void registerAppletHandler(AppletHandler handler) 
```

å¤„ç†ç±»çš„ç»“æ„
```
abstract class AppletHandler {
  ///
  /// è½¬å‘å°ç¨‹åº
  ///
  ///
  ///
  void forwardApplet(Map<String, dynamic> appletInfo);

  ///
  ///è·å–ç”¨æˆ·ä¿¡æ¯
  ///  "userId"
  ///  "nickName"
  ///  "avatarUrl"
  ///  "jwt"
  ///  "accessToken"
  ///
  Future<Map<String, dynamic>> getUserInfo();

  /// è·å–è‡ªå®šä¹‰èœå•
  Future<List<CustomMenu>> getCustomMenus(String appId);

  ///è‡ªå®šä¹‰èœå•ç‚¹å‡»å¤„ç†
  Future onCustomMenuClick(String appId, int menuId);
}
```

### 7. æ³¨å†Œæ‹“å±• API

å¦‚æœï¼Œæˆ‘ä»¬çš„å°ç¨‹åº SDK API ä¸æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œæ‚¨å¯ä»¥æ³¨å†Œè‡ªå®šä¹‰çš„å°ç¨‹åºAPIï¼Œç„¶åå°±å¯ä»¥åœ¨å°ç¨‹åºå†…è°ƒç”¨è‡ªå·²å®šä¹‰çš„ API äº†ã€‚

```
  ///
  /// register extension api
  /// æ³¨å†Œæ‹“å±•api
  ///
  void registerExtensionApi(String name, ExtensionApiHandler handler)
```

iOS éœ€è¦åœ¨å°ç¨‹åºæ ¹ç›®å½•åˆ›å»º `FinChatConf.js` æ–‡ä»¶ï¼Œé…ç½®å®ä¾‹å¦‚ä¸‹

```
module.exports = {
  extApi:[
    { //æ™®é€šäº¤äº’API
      name: 'onCustomEvent', //æ‰©å±•apiå è¯¥apiå¿…é¡»Nativeæ–¹å®ç°äº†
      params: { //æ‰©å±•api çš„å‚æ•°æ ¼å¼ï¼Œå¯ä»¥åªåˆ—å¿…é¡»çš„å±æ€§
        url: ''
      }
    }
  ]
}
```

## Flutter-SDK å·¥ç¨‹æºç è¯´æ˜
```
.
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ android
â”‚Â Â  â”œâ”€â”€ build.gradle
â”‚Â Â  â”œâ”€â”€ build.gradle.tpl
â”‚Â Â  â”œâ”€â”€ gradle
â”‚Â Â  â”‚Â Â  â””â”€â”€ wrapper
â”‚Â Â  â”‚Â Â      â””â”€â”€ gradle-wrapper.properties
â”‚Â Â  â”œâ”€â”€ gradle.properties
â”‚Â Â  â”œâ”€â”€ proguard-android.txt
â”‚Â Â  â”œâ”€â”€ proguard-rules.pro
â”‚Â Â  â”œâ”€â”€ settings.gradle
â”‚Â Â  â””â”€â”€ src     // Flutter-SDK Androidæºæ–‡ä»¶ç›®å½•
â”‚Â Â      â””â”€â”€ main
â”‚Â Â          â”œâ”€â”€ AndroidManifest.xml
â”‚Â Â          â””â”€â”€ java
â”‚Â Â              â””â”€â”€ com
â”‚Â Â                  â””â”€â”€ finogeeks
â”‚Â Â                      â””â”€â”€ mop
â”‚Â Â                          â”œâ”€â”€ MopEventStream.java         // 
â”‚Â Â                          â”œâ”€â”€ MopPlugin.java              // flutter æ¶ˆæ¯çš„å¤„ç†ç±»
â”‚Â Â                          â”œâ”€â”€ MopPluginDelegate.java      //
â”‚Â Â                          â”œâ”€â”€ api
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ AbsApi.java             // flutter-APIçš„æŠ½è±¡ç±»
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ ApisManager.java        // flutter-APIçš„ç®¡ç†ç±»
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ BaseApi.java            // flutter-APIçš„åŸºç±»
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ EmptyApi.java           // flutter-APIçš„ç©ºå®ç°
â”‚Â Â                          â”‚Â Â  â””â”€â”€ mop
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ AppletHandlerModule.java  // å®‰å“ä»£ç†çš„å¤„ç†ç±»ï¼Œä¼šè½¬å‘æ¶ˆæ¯è‡³AppletHandler
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ AppletManageModule.java  // å°ç¨‹åºç›¸å…³APIçš„å®ç°Module(åŒ…å«è·å–å°ç¨‹åºä¿¡æ¯ã€å…³é—­å°ç¨‹åºã€åˆ é™¤å°ç¨‹åºç­‰)
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ AppletModule.java       // æ‰“å¼€å°ç¨‹åºçš„APIå®ç°Moduleï¼ˆåŒ…å«æ‰“å¼€å°ç¨‹åºçš„å‡ ç§apiï¼‰
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ BaseModule.java         // æ—§ç‰ˆæœ¬åˆå§‹åŒ–SDKçš„APIå®ç°Module
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ ExtensionApiModule.java  // æ‰©å±•APIçš„å®ç°Moduleï¼ˆæ³¨å†Œå°ç¨‹åºè‡ªå®šä¹‰APIã€H5è‡ªå®šä¹‰APIï¼‰
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ InitSDKModule.java  // æ–°ç‰ˆåˆå§‹åŒ–SDKçš„Module
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ SmSignModule.java   // (åºŸå¼ƒ)
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ VersionModule.java  // è·å–SDKç‰ˆæœ¬ä¿¡æ¯çš„Module
â”‚Â Â                          â”‚Â Â      â”œâ”€â”€ WXQrCodeModule.java  //é€šè¿‡å¾®ä¿¡å°ç¨‹åºäºŒç»´ç è·å–å…³è”çš„FinClip å°ç¨‹åºä¿¡æ¯çš„Module
â”‚Â Â                          â”‚Â Â      â””â”€â”€ util   // å·¥å…·ç±»
â”‚Â Â                          â”‚Â Â          â””â”€â”€ InitUtils.java  //åˆå§‹åŒ–å‚æ•°å¤„ç†å·¥å…·ç±»
â”‚Â Â                          â”œâ”€â”€ constants
â”‚Â Â                          â”‚Â Â  â””â”€â”€ Constants.java      // å¸¸é‡
â”‚Â Â                          â”œâ”€â”€ interfaces    // ä¸€äº›æ¥å£ç±»
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ Event.java
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ FlutterInterface.java
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ IApi.java
â”‚Â Â                          â”‚Â Â  â”œâ”€â”€ ICallback.java
â”‚Â Â                          â”‚Â Â  â””â”€â”€ ILifecycle.java
â”‚Â Â                          â”œâ”€â”€ service
â”‚Â Â                          â”‚Â Â  â””â”€â”€ MopPluginService.java    // Flutter æ’ä»¶æœåŠ¡
â”‚Â Â                          â””â”€â”€ utils
â”‚Â Â                              â”œâ”€â”€ AppletUtils.java        // å°ç¨‹åºæ“ä½œå·¥å…·ç±»
â”‚Â Â                              â””â”€â”€ GsonUtil.java           //json å¤„ç†å·¥å…·ç±»
â”œâ”€â”€ example     // ç¤ºä¾‹å·¥ç¨‹ç›®å½•
â”‚Â Â  â”œâ”€â”€ README.md
â”‚Â Â  â”œâ”€â”€ analysis_options.yaml
â”‚Â Â  â”œâ”€â”€ android // ç¤ºä¾‹å·¥ç¨‹--å®‰å“å·¥ç¨‹
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ app
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ build.gradle
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ src
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ debug
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ AndroidManifest.xml
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ main
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ AndroidManifest.xml
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ java
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”‚Â Â  â””â”€â”€ com
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”‚Â Â      â””â”€â”€ finogeeks
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”‚Â Â          â””â”€â”€ mop_example
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”‚Â Â              â”œâ”€â”€ CustomLoadingPage.java  //å®‰å“è‡ªå®šä¹‰loadingå®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”‚Â Â              â”œâ”€â”€ MainActivity.java       //å®‰å“ä¸»é¡µ
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”‚Â Â              â””â”€â”€ MainApplication.java   
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ res   å›¾ç‰‡ã€å¸ƒå±€ç­‰èµ„æºæ–‡ä»¶å¤¹
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ profile
â”‚Â Â  â”‚Â Â  â”‚Â Â          â””â”€â”€ AndroidManifest.xml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ build.gradle
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ gradle
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ wrapper
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ gradle-wrapper.properties
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ gradle.properties
â”‚Â Â  â”‚Â Â  â””â”€â”€ settings.gradle
â”‚Â Â  â”œâ”€â”€ ios     // ç¤ºä¾‹å·¥ç¨‹--iOSå·¥ç¨‹
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Podfile
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Runner
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AppDelegate.swift   // ç¤ºä¾‹å·¥ç¨‹åŸç”Ÿç«¯åˆå§‹åŒ–ï¼Œä»¥åŠæ’ä»¶æ³¨å†Œ
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Assets.xcassets
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FlutterMethodChannelHandler.h   // Flutterè°ƒç”¨åŸç”Ÿchannel
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FlutterMethodChannelHandler.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LoadingView.h   // å°ç¨‹åºå¯åŠ¨é¡µè‡ªå®šä¹‰UI
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LoadingView.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Runner-Bridging-Header.h
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Runner.xcodeproj
â”‚Â Â  â”œâ”€â”€ lib
â”‚Â Â  â”‚Â Â  â””â”€â”€ main.dart   // ç¤ºä¾‹å·¥ç¨‹å…¥å£
â”‚Â Â  â”œâ”€â”€ pubspec.yaml
â”œâ”€â”€ ios                 // iOSæºæ–‡ä»¶ç›®å½•
â”‚Â Â  â”œâ”€â”€ Assets
â”‚Â Â  â”œâ”€â”€ Classes
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Api     // flutter-sdk APIçš„iOSå®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOPAppletDelegate.h     // iOS SDKä»£ç†çš„å®ç°ç±»ï¼Œä¼šè½¬å‘æ¶ˆæ¯è‡³AppletHandler
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOPAppletDelegate.m     // iOS SDKä»£ç†çš„å®ç°ç±»ï¼Œä¼šè½¬å‘æ¶ˆæ¯è‡³AppletHandler
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_addWebExtentionApi.h    // æ³¨å†Œå°ç¨‹åºH5 è‡ªå®šä¹‰apiçš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_addWebExtentionApi.m    
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_callJS.h            // åŸç”Ÿç»™å°ç¨‹åºç»„ä»¶å‘æ¶ˆæ¯çš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_callJS.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_changeUserId.h      // ä¿®å¤userIdçš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_changeUserId.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_clearApplets.h      // æ¸…é™¤æœ¬åœ°æ‰€æœ‰å°ç¨‹åºçš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_clearApplets.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_closeAllApplets.h   // å…³é—­æ‰€æœ‰å°ç¨‹åºçš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_closeAllApplets.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_closeApplet.h       // å…³é—­æŒ‡å®šå°ç¨‹åºçš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_closeApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_currentApplet.h     // è·å–å½“å‰å°ç¨‹åºçš„ä¿¡æ¯çš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_currentApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_finishRunningApplet.h   // å½»åº•å…³é—­å°ç¨‹åºçš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_finishRunningApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_initSDK.h           // æ–°çš„åˆå§‹åŒ–SDKå®ç°ç±»(æ¨è)
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_initSDK.m       
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_initialize.h        // æ—§çš„åˆå§‹åŒ–SDKå®ç°ç±»(ä¸æ¨è)
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_initialize.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_openApplet.h        // æ—§çš„æ‰“å¼€å°ç¨‹åºå®ç°ç±»ï¼ˆä¸æ¨èï¼‰
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_openApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_parseAppletInfoFromWXQrCode.h   // è§£æå¾®ä¿¡å°ç¨‹åºäºŒç»´ç ï¼Œå¾—åˆ°å‡¡æ³°å°ç¨‹åºä¿¡æ¯
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_parseAppletInfoFromWXQrCode.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_qrcodeOpenApplet.h      // é€šè¿‡äºŒç»´ç é“¾æ¥æ‰“å¼€å°ç¨‹åºå®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_qrcodeOpenApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_registerAppletHandler.h // æ³¨å†Œä»£ç†å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_registerAppletHandler.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_registerExtensionApi.h  // æ³¨å†Œå°ç¨‹åºè‡ªå®šä¹‰apiçš„å®ç°ç±»
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_registerExtensionApi.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_removeAllUsedApplets.h  // åˆ é™¤æœ¬åœ°æ‰€æœ‰å°ç¨‹åºçš„å®ç°ç±»ï¼ˆå°ç¨‹åºåŒ…ã€è¿è¡Œè¿‡ç¨‹ä¸­çš„æ•°æ®ç­‰ï¼‰
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_removeAllUsedApplets.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_removeApplet.h          // åˆ é™¤æŒ‡å®šå°ç¨‹åºï¼ˆå°ç¨‹åºåŒ…ã€è¿è¡Œè¿‡ç¨‹ä¸­çš„æ•°æ®ç­‰ï¼‰
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_removeApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_removeUsedApplet.h      // åˆ é™¤æŒ‡å®šå°ç¨‹åºï¼ˆå°ç¨‹åºåŒ…ã€è¿è¡Œè¿‡ç¨‹ä¸­çš„æ•°æ®ç­‰ï¼‰
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_removeUsedApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_scanOpenApplet.h        // æ—§ç‰ˆäºŒç»´ç æ‰“å¼€å°ç¨‹åºã€‚ï¼ˆéœ€è¦è§£å¯†äºŒç»´ç å†…å®¹ï¼ŒåºŸå¼ƒï¼‰
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_scanOpenApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_sdkVersion.h            // è·å–SDKç‰ˆæœ¬ä¿¡æ¯
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_sdkVersion.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_sendCustomEvent.h       // ç»™SDKå‘åŠ¨å…¨å±€è‡ªå®šä¹‰äº‹ä»¶
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_sendCustomEvent.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_showBotomSheetModel.h   // æ˜¾ç¤ºåº•éƒ¨åˆ†äº«View
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_showBotomSheetModel.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_smsign.h                // (åºŸå¼ƒ)
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_smsign.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_startApplet.h           // æ–°çš„å¯åŠ¨å°ç¨‹åºå®ç°ç±»(æ¨è)
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_startApplet.m
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MOP_webViewBounces.h        // è®¾ç½®é¡¶å±‚ webViewçš„å¼¹æ€§æ•ˆæœ
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ MOP_webViewBounces.m    
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Model
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MopCustomMenuModel.h        // è‡ªå®šä¹‰èœå•Model
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ MopCustomMenuModel.m
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MopPlugin.h                     // flutter ä¸ iOSåŸç”Ÿé€šä¿¡æ¡¥æ¥ç±»
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MopPlugin.m
â”‚Â Â  â”‚Â Â  â””â”€â”€ Utils           // å­˜æ”¾ä¸€äº›å·¥å…·ç±»
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPApiConverter.h   // ApiåŠ¨æ€è½¬æ¢ç±»ï¼ˆä½¿ç”¨runtimeå°†requeståŠ¨æ€è½¬æ¢ä¸ºapiå®ç°ç±»ï¼‰
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPApiConverter.m
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPApiRequest.h   // flutter-sdkä¼ é€’ç»™åŸç”Ÿçš„äº‹ä»¶å’Œå‚æ•°ä¼šå°è£…æˆä¸€ä¸ªRequest
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPApiRequest.m
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPBaseApi.h      // flutter APIå®ç°ç±»çš„åŸºç±»
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPBaseApi.m
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPTools.h        // å·¥å…·ç±»ï¼ˆåŒ…å«é¢œè‰²ã€æˆªå›¾ã€è·å–é¡¶å±‚æ§åˆ¶å™¨ç­‰ï¼‰
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MOPTools.m
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MopShareView.h    // åˆ†äº«ç•Œé¢UI
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MopShareView.m
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ UIView+MOPFATToast.h  // Toastæç¤ºåˆ†ç±»
â”‚Â Â  â”‚Â Â      â””â”€â”€ UIView+MOPFATToast.m
â”‚Â Â  â”œâ”€â”€ mop.podspec
â”‚Â Â  â””â”€â”€ mop.podspec.tpl   //mop.podspec æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ lib
â”‚Â Â  â”œâ”€â”€ api.dart        // flutter-sdkä»£ç†çš„ï¼ˆæŠ½è±¡ç±»ï¼‰
â”‚Â Â  â””â”€â”€ mop.dart        // mop æ ¸å¿ƒç±»ï¼ˆåŒ…å«åˆå§‹åŒ–é…ç½®å‹ã€flutter-sdkçš„æ‰€æœ‰apiï¼‰
â”œâ”€â”€ publish.sh          // å‘å¸ƒè„šæœ¬
â”œâ”€â”€ pubspec.tpl.yaml    // pubspec.yamlæ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ pubspec.yaml        // é…ç½®æ–‡ä»¶
â”œâ”€â”€ tag.sh              // æ‰“tagçš„è„šæœ¬
â””â”€â”€ trigger.sh          // è„šæœ¬
```

## ğŸ”— å¸¸ç”¨é“¾æ¥
ä»¥ä¸‹å†…å®¹æ˜¯æ‚¨åœ¨ FinClip è¿›è¡Œå¼€å‘ä¸ä½“éªŒæ—¶ï¼Œå¸¸è§çš„é—®é¢˜ä¸æŒ‡å¼•ä¿¡æ¯

- [FinClip å®˜ç½‘](https://www.finclip.com/#/home)
- [ç¤ºä¾‹å°ç¨‹åº](https://www.finclip.com/#/market)
- [æ–‡æ¡£ä¸­å¿ƒ](https://www.finclip.com/mop/document/)
- [SDK éƒ¨ç½²æŒ‡å—](https://www.finclip.com/mop/document/introduce/quickStart/intergration-guide.html)
- [å°ç¨‹åºä»£ç ç»“æ„](https://www.finclip.com/mop/document/develop/guide/structure.html)
- [iOS é›†æˆæŒ‡å¼•](https://www.finclip.com/mop/document/runtime-sdk/ios/ios-integrate.html)
- [Android é›†æˆæŒ‡å¼•](https://www.finclip.com/mop/document/runtime-sdk/android/android-integrate.html)
- [Flutter é›†æˆæŒ‡å¼•](https://www.finclip.com/mop/document/runtime-sdk/flutter/flutter-integrate.html)

## â˜ï¸ è”ç³»æˆ‘ä»¬
å¾®ä¿¡æ‰«æä¸‹é¢äºŒç»´ç ï¼Œå…³æ³¨å®˜æ–¹å…¬ä¼—å· **ã€Œå‡¡æ³°æå®¢ã€**ï¼Œè·å–æ›´å¤šç²¾å½©å†…å®¹ã€‚<br>
<img width="150px" src="https://www.finclip.com/mop/document/images/ic_qr.svg">

å¾®ä¿¡æ‰«æä¸‹é¢äºŒç»´ç ï¼ŒåŠ å…¥å®˜æ–¹å¾®ä¿¡äº¤æµç¾¤ï¼Œè·å–æ›´å¤šç²¾å½©å†…å®¹ã€‚<br>
<img width="150px" src="https://www-cdn.finclip.com/images/qrcode/qrcode_shequn_text.png">
